{"version":3,"sources":["api/api.js","api/posts.js","components/PostList/PostList.jsx","App.js","index.js"],"names":["BASE_URL","getData","endPoint","a","fetch","response","ok","Error","status","statusText","json","result","deletePost","postId","url","id","method","PostList","useState","posts","setPosts","loadPosts","postsFromServer","useEffect","className","map","post","title","body","name","type","onClick","target","filter","App","path","ReactDOM","render","document","getElementById"],"mappings":"0QAAaA,EAAW,oCAEXC,EAAO,uCAAG,WAAMC,GAAN,iBAAAC,EAAA,sEACEC,MAAM,GAAD,OAAIJ,GAAJ,OAAeE,IADtB,WACfG,EADe,QAEPC,GAFO,sBAGb,IAAIC,MAAJ,UAAaF,EAASG,OAAtB,cAAkCH,EAASI,aAH9B,uBAMAJ,EAASK,OANT,cAMfC,EANe,yBAQdA,GARc,2CAAH,sDCAdT,EAAW,QAEJU,EAAa,SAACC,GACzB,ODQqBC,ECRPZ,EDQYa,ECRFF,EDSjBT,MAAM,GAAD,OAAIJ,GAAJ,OAAec,EAAf,YAAsBC,GAAM,CACtCC,OAAQ,WAFU,IAACF,EAAKC,G,eERrB,SAASE,IACd,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEMC,EAAS,uCAAG,4BAAAlB,EAAA,sEACcF,EAAQ,SADtB,OACVqB,EADU,OAGhBF,EAASE,GAHO,2CAAH,qDAsBf,OAJAC,qBAAU,WACRF,MACC,IAGD,oBAAIG,UAAU,WAAd,SACGL,EAAMM,KAAI,SAAAC,GAAI,OACb,qBACEF,UAAU,iBADZ,UAIE,6BAAKE,EAAKC,QACV,4BAAID,EAAKE,OACT,wBACEC,KAAMH,EAAKX,GACXe,KAAK,SACLC,QAAS,YAAe,IAAbC,EAAY,EAAZA,OACTpB,EAAWoB,EAAOH,MAClBT,EAASD,EAAMc,QAAO,SAAAP,GAAI,OAAIA,EAAKX,MAAQiB,EAAOH,UALtD,iBAJKH,EAAKX,S,MClBLmB,MAbf,WACE,OACE,qBAAKV,UAAU,MAAf,SACE,eAAC,IAAD,CAAOW,KAAK,SAAZ,UACE,uCACA,wBAAQX,UAAU,aAAlB,SACE,cAAC,EAAD,YCHVY,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8d3c8d61.chunk.js","sourcesContent":["export const BASE_URL = 'https://bloggy-api.herokuapp.com/';\n\nexport const getData = async(endPoint) => {\n  const response = await fetch(`${BASE_URL}${endPoint}`);\n  if (!response.ok) {\n    throw new Error(`${response.status} - ${response.statusText}`);\n  }\n\n  const result = await response.json();\n\n  return result;\n};\n\nexport const remove = (url, id) => {\n  return fetch(`${BASE_URL}${url}/${id}`, {\n    method: 'DELETE',\n  });\n}\n\nexport const post = (url, body) => {\n  return fetch(`${BASE_URL}${url}`, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify(body),\n  });\n}","import { remove, post } from './api';\n\nconst endPoint = 'posts';\n\nexport const deletePost = (postId) => {\n  return remove(endPoint, postId);\n}\n\nexport const addPost = (body) => {\n  return post(endPoint, body)\n    .then(response => response.json())\n    .then(result => result.data);\n}","import { getData } from '../../api/api';\nimport { deletePost, addPost} from '../../api/posts';\nimport { useEffect, useState } from 'react';\nimport './PostList.css';\n\nexport function PostList() {\n  const [posts, setPosts] = useState([])\n\n  const loadPosts = async() => {\n    const postsFromServer = await getData('posts');\n\n    setPosts(postsFromServer);\n  };\n\n  const addNewPost = () => {\n    const newPost = {\n      title: \"Optio molestias id quia eum\",\n      body: \"Quo et expedita modi cum officia vel magni doloribus qui repudiandae vero nisi sit quos veniam quod sed accusamus veritatis error\"\n    };\n\n    addPost(newPost)\n      .then((result) => {\n        setPosts(currentList => [...currentList, result]);\n      });\n  };\n\n  useEffect(() => {\n    loadPosts();\n  }, []);\n\n  return (\n    <ul className=\"PostList\">\n      {posts.map(post => (\n        <li\n          className=\"PostList__item\" \n          key={post.id}\n        >\n          <h2>{post.title}</h2>\n          <p>{post.body}</p>\n          <button\n            name={post.id}\n            type=\"button\"\n            onClick={({target}) => {\n              deletePost(target.name)\n              setPosts(posts.filter(post => post.id !== +target.name));\n            }}\n          >\n            X\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import { Route} from 'react-router-dom';\nimport { PostList } from './components/PostList';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Route path='/posts'>\n        <h1>Posts</h1>\n        <header className=\"App-header\">\n          <PostList />\n        </header>\n      </Route>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}